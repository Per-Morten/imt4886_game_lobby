<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Kjapp gamelobby C++: kjapp Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kjapp gamelobby C++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kjapp Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains all the resources needed to get kjapp game lobby system to work.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a98b9b721617fe3ae75dd6f92507d2121"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121">Query</a> { <br />
&#160;&#160;<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a446d73d3d33c027a52dea354cbb89f6a">Query::ALL_MATCHES</a>, 
<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a18a470572636e1681c90bcfd186c90d1">Query::NOT_IN_SESSION</a>, 
<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121adb763e1606844ad7b28517112f999292">Query::IN_SESSION</a>, 
<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121ae7b891a89f0e4fcea5a49f69d681ecf8">Query::NON_FULL_MATCHES</a>, 
<br />
&#160;&#160;<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a91d2f758dc36530a732923fcb757f4ab">Query::BY_NAME</a>
<br />
 }<tr class="memdesc:a98b9b721617fe3ae75dd6f92507d2121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Different categories of queries that can be done on the kjapp database over matches.  <a href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a98b9b721617fe3ae75dd6f92507d2121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424e0b2658aa21768d94092bc8155d5e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a424e0b2658aa21768d94092bc8155d5e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a424e0b2658aa21768d94092bc8155d5e">Status</a> { <b>NOT_IN_SESSION</b>, 
<b>IN_SESSION</b>
 }<tr class="memdesc:a424e0b2658aa21768d94092bc8155d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The status of a match. Is it in session or not. <br /></td></tr>
</td></tr>
<tr class="separator:a424e0b2658aa21768d94092bc8155d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a60bf27524c6562d2eca46d8d2498aab4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a60bf27524c6562d2eca46d8d2498aab4">getMyIP</a> ()</td></tr>
<tr class="memdesc:a60bf27524c6562d2eca46d8d2498aab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the external IP address of this computer.  <a href="#a60bf27524c6562d2eca46d8d2498aab4">More...</a><br /></td></tr>
<tr class="separator:a60bf27524c6562d2eca46d8d2498aab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22cf098842afd3b77a7c8635c26a7f95"><td class="memItemLeft" align="right" valign="top">nlohmann::json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a22cf098842afd3b77a7c8635c26a7f95">hostMatch</a> (const std::string &amp;gameToken, const std::string &amp;name, const std::string &amp;hostIP, const std::uint16_t hostPort, const std::size_t maxPlayerCount, const std::size_t playerCount=0, const std::string &amp;miscInfo=&quot; &quot;)</td></tr>
<tr class="memdesc:a22cf098842afd3b77a7c8635c26a7f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports to the kjapp game lobby that a match has been created.  <a href="#a22cf098842afd3b77a7c8635c26a7f95">More...</a><br /></td></tr>
<tr class="separator:a22cf098842afd3b77a7c8635c26a7f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1eef7b6490d2f3a6918695ad123cc3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; nlohmann::json &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a3b1eef7b6490d2f3a6918695ad123cc3">getMatches</a> (const std::string &amp;gameToken, <a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121">Query</a> query=<a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a446d73d3d33c027a52dea354cbb89f6a">Query::ALL_MATCHES</a>, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr class="memdesc:a3b1eef7b6490d2f3a6918695ad123cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the matches belonging to the specified game token that also fits within the specified query.  <a href="#a3b1eef7b6490d2f3a6918695ad123cc3">More...</a><br /></td></tr>
<tr class="separator:a3b1eef7b6490d2f3a6918695ad123cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb16af4f3688ee259d2dad309ce65e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#afb16af4f3688ee259d2dad309ce65e9c">deleteMatch</a> (const std::string &amp;gameToken, const std::string &amp;matchId)</td></tr>
<tr class="memdesc:afb16af4f3688ee259d2dad309ce65e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the match with the id matchId, belonging to the game specified by gameToken from the kjapp match database.  <a href="#afb16af4f3688ee259d2dad309ce65e9c">More...</a><br /></td></tr>
<tr class="separator:afb16af4f3688ee259d2dad309ce65e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9e24c5c8377e6ea59e261573a8886c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#aab9e24c5c8377e6ea59e261573a8886c">updateMatchStatus</a> (const std::string &amp;gameToken, const std::string &amp;matchId, <a class="el" href="namespacekjapp.html#a424e0b2658aa21768d94092bc8155d5e">Status</a> status)</td></tr>
<tr class="memdesc:aab9e24c5c8377e6ea59e261573a8886c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the status of the match belonging to the game with the specified game token, and identified by the specified matchId.  <a href="#aab9e24c5c8377e6ea59e261573a8886c">More...</a><br /></td></tr>
<tr class="separator:aab9e24c5c8377e6ea59e261573a8886c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b42c3ae999b0f34c20202585ce7791"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#ae7b42c3ae999b0f34c20202585ce7791">updatePlayerCount</a> (const std::string &amp;gameToken, const std::string &amp;matchId, std::size_t playerCount)</td></tr>
<tr class="memdesc:ae7b42c3ae999b0f34c20202585ce7791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the number of players of the match belonging to the game with the specified game token, and identified by the specified matchId.  <a href="#ae7b42c3ae999b0f34c20202585ce7791">More...</a><br /></td></tr>
<tr class="separator:ae7b42c3ae999b0f34c20202585ce7791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1967229dd0630020ab4e19cab9b09d74"><td class="memItemLeft" align="right" valign="top">nlohmann::json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekjapp.html#a1967229dd0630020ab4e19cab9b09d74">postMatchReport</a> (const std::string &amp;gameToken, const std::string &amp;matchId, const nlohmann::json &amp;data)</td></tr>
<tr class="memdesc:a1967229dd0630020ab4e19cab9b09d74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a match report to the kjapp game lobby.  <a href="#a1967229dd0630020ab4e19cab9b09d74">More...</a><br /></td></tr>
<tr class="separator:a1967229dd0630020ab4e19cab9b09d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains all the resources needed to get kjapp game lobby system to work. </p>
<p>The kjapp game lobby system is a game lobby system that uses HTTP requests to communicate with a database. This namespace contains wrappers for these HTTP requests to allow developers to easily integrate simple lobby functionality into their games.</p>
<dl class="section user"><dt>JSON</dt><dd>Kjapp in general uses a lot of json objects, as these are the ones that are most natural to work with when discussing HTTP web requests. For this we have decided on using nlohmann json library.</dd></dl>
<dl class="section user"><dt>libcurl</dt><dd>For the HTTP requests we use libcurl.</dd></dl>
<dl class="section user"><dt>game tokens</dt><dd>To use the kjapp game lobby system developers need to register their games, and apply for a game token. These tokens are api keys that are used by all kjapp functions to identify which game different matches and reports belong to. One can apply for a game token, but the token must be valid before it can be used for anything productive.</dd></dl>
<dl class="section user"><dt>Multiple threads</dt><dd>The kjapp functions are blocking calls, and can be run in a separate thread. However, be careful about doing kjapp calls from multiple threads at the same time. Nothing in kjapp explicitly should cause any issues, but there might be situations where curl does not like it.</dd></dl>
<dl class="section user"><dt>Validation and Error handling</dt><dd>Most validation happens on the server side of kjapp glm. However, to make it a bit easier to work with, the most common and easy to make errors results in an exception. These are mentioned in more detail in documentation of different functions. In general the rule is that if something is really obvious like gameToken and matchId not having a length of 0 is not checked, but more hard to spot errors, like miscInfo having a length of 0, will result in invalid argument exceptions. Any HTTP errors, like 404, will throw a runtime exception.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/nlohmann/json">nlohmann json</a> </dd>
<dd>
<a href="https://curl.haxx.se/libcurl/c/libcurl.html">libcurl</a> </dd>
<dd>
<a href="https://curl.haxx.se/libcurl/c/threadsafe.html">curl thread safety</a> </dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121">kjapp::Query</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Different categories of queries that can be done on the kjapp database over matches. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121a446d73d3d33c027a52dea354cbb89f6a"></a>ALL_MATCHES&#160;</td><td class="fielddoc">
<p>Gets all the matches belonging to a specified game token. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121a18a470572636e1681c90bcfd186c90d1"></a>NOT_IN_SESSION&#160;</td><td class="fielddoc">
<p>Gets all the matches belonging to a specified game token that are not in session.</p>
<p>This means that the match has not yet been started, or that it has been stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121adb763e1606844ad7b28517112f999292"></a>IN_SESSION&#160;</td><td class="fielddoc">
<p>Gets all the matches belonging to a specified game token that are in session.</p>
<p>This means that the match is currently running. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121ae7b891a89f0e4fcea5a49f69d681ecf8"></a>NON_FULL_MATCHES&#160;</td><td class="fielddoc">
<p>Gets all the matches belonging to a specified game token that are not full. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a98b9b721617fe3ae75dd6f92507d2121a91d2f758dc36530a732923fcb757f4ab"></a>BY_NAME&#160;</td><td class="fielddoc">
<p>Gets all the matches belonging to a specified game token with a specified name. Both partial and full names can be specified. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afb16af4f3688ee259d2dad309ce65e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kjapp::deleteMatch </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the match with the id matchId, belonging to the game specified by gameToken from the kjapp match database. </p>
<p>Informs the kjapp game lobby that a match should be deleted. The match is identified by the matchId and the game token.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that the match to be deleted belongs to.</td></tr>
    <tr><td class="paramname">matchId</td><td>The id of the match that is supposed to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b1eef7b6490d2f3a6918695ad123cc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;nlohmann::json&gt; kjapp::getMatches </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121">Query</a>&#160;</td>
          <td class="paramname"><em>query</em> = <code><a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a446d73d3d33c027a52dea354cbb89f6a">Query::ALL_MATCHES</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the matches belonging to the specified game token that also fits within the specified query. </p>
<p>The kjapp game lobby is queried for any matches belonging to the specified game token, that also satisfies the criteria specified by query.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that is being queried for.</td></tr>
    <tr><td class="paramname">query</td><td>The query/filter that the matches should be filtered through.</td></tr>
    <tr><td class="paramname">name</td><td>Only used in the case where query == <a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a91d2f758dc36530a732923fcb757f4ab">Query::BY_NAME</a>. Partial or full name of the match you are searching for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of json match objects, same as the ones seen in <a class="el" href="namespacekjapp.html#a22cf098842afd3b77a7c8635c26a7f95" title="Reports to the kjapp game lobby that a match has been created. ">kjapp::hostMatch</a>.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X</li>
</ul>
</td></tr>
    <tr><td class="paramname">std::invalid_argument</td><td><ul>
<li>query == <a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121a91d2f758dc36530a732923fcb757f4ab">Query::BY_NAME</a> &amp;&amp; name.empty() == true</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespacekjapp.html#a98b9b721617fe3ae75dd6f92507d2121" title="Different categories of queries that can be done on the kjapp database over matches. ">kjapp::Query</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a60bf27524c6562d2eca46d8d2498aab4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kjapp::getMyIP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the external IP address of this computer. </p>
<p>Does a web request to a remote service to get the external IP of this computer back.</p>
<dl class="section return"><dt>Returns</dt><dd>String containing the external IP address of the computer.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a22cf098842afd3b77a7c8635c26a7f95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nlohmann::json kjapp::hostMatch </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hostIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::uint16_t&#160;</td>
          <td class="paramname"><em>hostPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>maxPlayerCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>playerCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>miscInfo</em> = <code>&quot;&#160;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports to the kjapp game lobby that a match has been created. </p>
<p>The kjapp game lobby is notified about the creation of a match. After creation, this match will be included in relevant getMatches queries, and players can join the match.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that is being played. The gameToken must be valid, otherwise post requests of the match will fail.</td></tr>
    <tr><td class="paramname">name</td><td>The name of the match, this does not need to be unique.</td></tr>
    <tr><td class="paramname">hostIP</td><td>The ip address of the computer that is hosting the match.</td></tr>
    <tr><td class="paramname">hostPort</td><td>The port that players should use to connect to the match.</td></tr>
    <tr><td class="paramname">maxPlayerCount</td><td>The maximum number of players that can join this match. Must be &gt; 0.</td></tr>
    <tr><td class="paramname">playerCount</td><td>The current number of players in the match.</td></tr>
    <tr><td class="paramname">miscInfo</td><td>A string containing any other information about the match. This is decided by the developer, and could for example be a description, or even a whole json object. Note: Must have length &gt; 0, even if just empty space.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A json object containing all the relevant information of the match. This is in the form of: <div class="fragment"><div class="line">{</div><div class="line">    <span class="stringliteral">&quot;_id&quot;</span>: <span class="stringliteral">&quot;59c7f0c9b0a0932165c058b6&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;__v&quot;</span>: 0,</div><div class="line">    <span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;Match 1&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;gameToken&quot;</span>: <span class="stringliteral">&quot;59ec8be7890cd692461bb7d4&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;status&quot;</span>: 1,</div><div class="line">    <span class="stringliteral">&quot;hostIP&quot;</span>: <span class="stringliteral">&quot;127.0.0.0&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;hostPort&quot;</span>: 3000,</div><div class="line">    <span class="stringliteral">&quot;playerCount&quot;</span>: 1,</div><div class="line">    <span class="stringliteral">&quot;miscInfo&quot;</span>: <span class="stringliteral">&quot;Description of match&quot;</span></div><div class="line">}</div></div><!-- fragment --></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X</li>
</ul>
</td></tr>
    <tr><td class="paramname">std::invalid_argument</td><td><ul>
<li>miscInfo.empty() == true.</li>
<li>name.empty() == true.</li>
<li>hostIP is not an IPv4 numeric IP.</li>
<li>maxPlayerCount == 0.</li>
<li>playerCount &gt; maxPlayerCount. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1967229dd0630020ab4e19cab9b09d74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nlohmann::json kjapp::postMatchReport </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nlohmann::json &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a match report to the kjapp game lobby. </p>
<p>The kjapp game lobby is sent a match report that will belong to the game identified by the gameToken.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that the report belongs to. The gameToken must be valid, otherwise the post request will fail.</td></tr>
    <tr><td class="paramname">matchId</td><td>The id of the match this report was generated from.</td></tr>
    <tr><td class="paramname">data</td><td>A json object containing all the data that the developer wants to restore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A json object containing all the relevant information of the report. This is in the form of: <div class="fragment"><div class="line">{</div><div class="line">    <span class="stringliteral">&quot;_id&quot;</span>: <span class="stringliteral">&quot;59da7d0e704a440b4fc6d83d&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;__v&quot;</span>: 0,</div><div class="line">    <span class="stringliteral">&quot;matchId&quot;</span>: <span class="stringliteral">&quot;59c7f0c9b0a0932165c058b6&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;gameToken&quot;</span>: <span class="stringliteral">&quot;59ec8be7890cd692461bb7d4&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;data&quot;</span>:</div><div class="line">    {</div><div class="line">        <span class="stringliteral">&quot;duration&quot;</span>: 2000,</div><div class="line">        <span class="stringliteral">&quot;score&quot;</span>: 50000,</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aab9e24c5c8377e6ea59e261573a8886c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kjapp::updateMatchStatus </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekjapp.html#a424e0b2658aa21768d94092bc8155d5e">Status</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the status of the match belonging to the game with the specified game token, and identified by the specified matchId. </p>
<p>Informs the kjapp game lobby that a match should be have its status changed. The most normal usage of this is to inform the game lobby that a match is set to in session which will then filter it out of getMatches queried for not in session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that the match belongs to.</td></tr>
    <tr><td class="paramname">matchId</td><td>The id of the match that is supposed to be updated.</td></tr>
    <tr><td class="paramname">status</td><td>The new status of the match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae7b42c3ae999b0f34c20202585ce7791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kjapp::updatePlayerCount </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gameToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>playerCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the number of players of the match belonging to the game with the specified game token, and identified by the specified matchId. </p>
<p>Informs the kjapp game lobby that a match should be have its playerCount changed. This is usually done when a player connects to or drops out of a game.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gameToken</td><td>The gameToken of the game that the match belongs to.</td></tr>
    <tr><td class="paramname">matchId</td><td>The id of the match that is supposed to be updated.</td></tr>
    <tr><td class="paramname">playerCount</td><td>The new playerCount of the match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_exception</td><td><ul>
<li>A curl handle couldn't be created.</li>
<li>The HTTP request returned an error code, i.e. 40X </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
